<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./cart.css">
</head>
<body>
       <!-- top blue line -->
   
       <div id="feedback">
        <p>[+]</p>
        <p>Feed Back</p>
    </div>
    


    <div id="topbar">
        <p>Corporate gift</p>
        <p>Store Locator</p>
        <p>International Delivery</p>

    </div>
    <!-- image line -->
    <div  id="firstimage">
        <div><img src="https://images.contentstack.io/v3/assets/blt95e0138311135214/blt13b0f02cd71877df/5f08974a8b0e59084c9f7570/hd-logo-v3.svg?height=32&width=78" alt=""></div>
        <div><img src="https://images.contentstack.io/v3/assets/blt95e0138311135214/bltac334446d6f9e89c/5f96fc4f2425cd7a8af6845e/pmall_svg-logo-v2.svg?height=32&width=78" alt=""></div>
        <div><img src="https://images.contentstack.io/v3/assets/blt95e0138311135214/bltf0b1021465476e4f/5f08974b0d1d2008538ce15a/SharisLogo_r.svg?height=32&width=78" alt=""></div>
        <div><img src="https://images.contentstack.io/v3/assets/blt95e0138311135214/bltac303abaae751c40/5f08974af394777f87099a07/18b-logo-v2.svg?height=32&width=78" alt=""></div>
        <div><img src="https://images.contentstack.io/v3/assets/blt95e0138311135214/blt71adcb0696952e83/5f08974baa5d1801639286b4/sch-logo-v2.svg?height=32&width=78" alt=""></div>
        <div><img src="https://images.contentstack.io/v3/assets/blt95e0138311135214/bltef2e14ec247ab827/5f08974a2cd8e87f92bdd257/fb-logo-v2.svg?height=32&width=78" alt=""></div>
        <div><img src="https://images.contentstack.io/v3/assets/blt95e0138311135214/blte1e2eb25cfd09fb6/5f08974a91afb901b86d5251/cco-logo-v2.svg?height=32&width=78" alt=""></div>
        <div><img src="https://images.contentstack.io/v3/assets/blt95e0138311135214/bltf9903ccf2408c217/5f0897552cd8e87f92bdd25b/tpf-logo-v2.svg?height=32&width=78" alt=""></div>
        <div><img src="https://images.contentstack.io/v3/assets/blt95e0138311135214/blt7ef824d3f9f5074d/5f0897558b0e59084c9f7574/wlf-logo-v2.svg?height=32&width=78" alt="error"></div>
        <div><img src="https://images.contentstack.io/v3/assets/blt95e0138311135214/blta2ba2ac7606f6c15/5f08974bceebbf7e87c30215/sy-logo-v2.svg?height=32&width=78" alt=""></div>
        <div> <img src="https://images.contentstack.io/v3/assets/blt0281495b20b504a0/blta4f709f645453ff0/61b4eeeea000c90ecc6e15bd/VC_Logo_w_tag.svg?height=32&width=78" alt=""></div>
    </div>
    <!-- search line  -->
    <div id="search">
        <div>   
        <a href="./homepage.html">
            <img src="./logo3.jpg" alt="">
        </a>
        </div>
        <div id="input">
            <input type="text" id="searchinput">
            <button id="searchbutton">Search</button>
    </div>
    <div class="second">
      <div class="signin">
        <div>  <img  onclick="Rahul()" src="https://images.contentstack.io/v3/assets/bltdd99f24e8a94d536/blt88337dc20d1d8278/5e178293942caf0fc36b77ab/Header-Icon-PWA-profile.svg" id="signinimage" alt=""></div>
        <a href="./login/login page.html" id="signlink" ><p id="signin"  > Sign in</p></a>
        
    </div>
    <div id="rahul" class="rahul">
        <p>Profile</p>
        <p>My Order</p>
        <p>My Cart</p>
        <p onclick="removedata()" class="removed">Log Out</p>
    </div>

        <div class="signin">
            <div> <img src="https://images.contentstack.io/v3/assets/bltdd99f24e8a94d536/blt7888ec93d3d5c1ec/5e17829300c38f0f022d3646/Header-Icon-PWA-bag.svg?height=25&width=44" alt=""></div>
            <a href="./cart.html"><p>(<span id="cartvalue">0</span>) Cart</p></a>
        </div>
    </div>
    </div>

    <!-- menubar when cursour going then show menu insight menu -->
<div id="menu">
    <a href="./item.html"><div class="insidemenu">VELENTIN'S</div></a>
    <a href="./item.html"><div class="insidemenu">BIRTHDAY</div></a>
    <a href="./item.html"><div class="insidemenu">SYMPATHY</div></a>
    <a href="./item.html"><div class="insidemenu">OCCASION</div></a>
    <a href="./item.html"><div class="insidemenu">FLOWERS</div></a>
    <a href="./item.html"><div class="insidemenu">PLANTS</div></a>
    <a href="./item.html"><div class="insidemenu">GIFT BASKET&FOOD</div></a>
    <a href="./item.html"><div class="insidemenu">GIFT & MORE</div></a>
    <a href="./item.html"><div class="insidemenu">SAME-DAY DELEVERY</div></a>
    <a href="./item.html"><div class="insidemenu">SALE</div></a>
    <a href="#"><div class="insidemenu">COMUNITY</div></a>
</div>

<!-- filter part -->
<div id="filter" class="sorting">
    <h4>Select Range</h4>
    <input type="number" id="lower" placeholder="type minimum price"/>
    <br>
    <input type="number" id="upper" placeholder="type maximum price"/>
    <br>
    <button id="filter-btn">Filter</button>
  </div>
  <select id="sort" class="secondsorting">
    <option value="">Sort By catagory</option>
    <option value="Birthday">Birthday</option>
    <option value="Valentine">Valentine</option>
    <option value="Plant">Plants</option>
  </select>
<!-------------------------------------------------------------------------- -->
<div id="maincontainer">
    <!-- append here -->
</div>

<div id="endpart">
    <div>
      <h3>MORE WAYS TO SHOP</h3>
      <P>Flower Delivery Same-Day</P>
      <p>Flowers Arrangements</p>
      <p>Sympathy Flowers &gigts</p>
      <p>Roses</p>
     <p> Birthday Flowers & Gifts</p>
     <p>Flowers Subscription</p>
     <p>Plants</p>
     <p>Gifts Baskets & Gifts</p>
     <p>Valentine's Day Flowers</p>
     <p>Internation Flowes Delivey</p>
     <p>Find a Local Florist</p>
     <p>Corporate Gifts</p>
     <p>Chocolate Coved Strawberries</p>
     <p>Marketplace Sellers</p>
     <p>Sitemap</p>
    </div>

    <div>
      <h3>CUSTOMER SERVICE</h3>
      <P>Customes Service</P>
      <p>COVID-19 Updates</p>
      <p>eGift Cards</p>
      <p>Contact Us</p>
      <p>Do Not Sell My Personal Information</p>
      <p>Allergy Warning</p>
      <p>Funeral/Sympathy Advisors</p>
      <p>Smile Gurantee</p>
      <h3>VETERANS ADVANTAGE</h3>
      <P>Get Exclusive Military Discounts EveryDay</P>
    </div>
    <div>
      <h3>OUR STORES</h3>
      <P>Store Locator</P>
      <P>Franchise Opportunity</P>
      <P>Local DIY Events</P>
      <h3>ACCOUNT LOGIN</h3>
      <P>Sign In to Your Account</P>
    </div>

    <div>
      <h3>CORPORATE</h3>
      <P>About Us</P>
      <p>Our Brands</p>
      <p>Social Responsibility</p>
      <p>Careers</p>
      <p>News & Media</p>
      <p>Investore</p>
      <h3>AFFILIATE PROGRAM</h3>
      <P>Become an Affiliate</P>
      <h3>OUR BLOG</h3>
      <P>Petal Talk Blog</P>
      <p>Julie's Corners</p>
      <p>Jim's Corner</p>


    </div>

    <div >
      <div><h3>FOLLOW US</h3></div>
      <div class="end">
        <div><img src="https://images.contentstack.io/v3/assets/bltdd99f24e8a94d536/blt787e53ec7675db95/5ee1016e26fd9f3b64a5abe7/social-icon-twitter.png" alt=""></div>
        <div><img src="https://images.contentstack.io/v3/assets/bltdd99f24e8a94d536/blt71c1a01174910073/5ee101831579a83a8b80b9ad/social-icon-facebook.png" alt=""></div>
        <div><img src="https://images.contentstack.io/v3/assets/bltdd99f24e8a94d536/blt78b7b39043ac2de3/5ee101965cffd6317204ad4a/social-icon-instagram.png" alt=""></div>
        <div><img src="https://images.contentstack.io/v3/assets/bltdd99f24e8a94d536/blt6ae8236f023d5359/5ee101a4f2c45903a4be0b8b/social-icon-pinterest.png" alt=""></div>
        <div><img src="https://images.contentstack.io/v3/assets/bltdd99f24e8a94d536/bltbd439ba082738790/5ee101b758284c442bf7faea/social-icon-youtube.png" alt=""></div>
    </div>
    </div>
</div>

<div class="carttotal">
  
  <h5> Your Total Cart Value :- <span id="spanvalue">0</span></h5>
  <button type="submit" onclick="openpopup()">Pay </button>

</div>

<div class="popup" id="popup">
  <img src="https://cdn.pixabay.com/photo/2015/06/09/16/12/icon-803718__340.png" alt="">
  <h2>Thank You!</h2>
  <p>Your payment has been Successfully</p>
  <button id="canclebutton" onclick="closepopup()">Ok</button>
</div>
    
</body>





<script>
    // ////////////////login dta/////////////////////////////
    let logindata3=JSON.parse(localStorage.getItem("login"))||[]
let data=JSON.parse(localStorage.getItem("data"))||[]
let signin=document.getElementById("signin")
let signinimage=document.getElementById("signinimage")
let signlink=document.getElementById("signlink")
console.log(signlink)
let x=document.getElementById("rahul");

 let remove=document.getElementsByClassName("removed");
 function removedata(){
    alert("logout successfully")
    localStorage.removeItem("login")
    location.reload();
 }
if(logindata3.length>0){
for(let i=0;i<1;i++){
    for(let j=0;j<data.length;j++){
        if(logindata3[logindata3.length-1].email===data[j].email && logindata3[logindata3.length-1].password===data[j].password){
            signinimage.src=data[j].link;
            signin.innerText=data[j].Firstname+" "+data[j].lastname
            signlink.href="#"
            function Rahul(){
                x.classList.toggle("rahul-change")
             }
        }
    }
}
}
/////////////////////////////////////////////////////////////////
</script>
</html>
<script>
    // caart script///////
    let maincontainer=document.getElementById("maincontainer")
    let cartdata=JSON.parse(localStorage.getItem("cart"))||[]

    // <!-- ---------------------------------------------------------------pop up script------------------------------------- -->

let popup=document.getElementById("popup");
// let body=document.querySelector("body")
function openpopup(){
   
   popup.classList.add("open-popup")
}
function closepopup(){
  popup.classList.remove("open-popup");
  location.replace("./item.html")
  

  
}

// ------------------------------------------------------pop  up end--------------------------------------------------------""


    
//   --------------------------------------------filter---------------------------------------------------//
let filtervalue=document.getElementById("sort")
filtervalue.addEventListener("change",()=>{
    display(filtered(cartdata))

})

function filtered(data){
    if(filtervalue.value===""){
        return (data)
    }else{
    let filterdata=data.filter((el)=>{
       return filtervalue.value===el.special
    })
    return (filterdata)
}
}
// ---------------------------------------------filter finish-----------------------------------------------------/////

///--------------------------------------------sort by price-------------------------------------------------------/////
let lower=document.getElementById("lower")
     let upper=document.getElementById("upper")
     let filterbutton=document.getElementById("filter-btn")

     filterbutton.addEventListener("click",()=>{
        display(filterbyprice());
     })

     function filterbyprice(){
      let filterprice=filtered(cartdata).filter((el)=>{
        if(lower.value<=el.price && upper.value>=el.price ){
          return true
        }else{
          false
        }
      }) 
      return (filterprice) 
     }
// ----------------------------------------------finish sort by price-------------------------------------------------//////


    display(cartdata)
    function display(data){
    // cartvalue/
    let cartvalue=document.getElementById("cartvalue")
    let spanvalue=document.getElementById("spanvalue")
    console.log(spanvalue.innerText)
      maincontainer.innerHTML="";
      data.forEach((el)=>{
        let insidediv=document.createElement("div")

        let image=document.createElement("img");
        image.src=el.img;

        let h3=document.createElement("h3");
        h3.innerText=el.name;

        let p1=document.createElement("p")
        p1.innerText=`â‚¹${el.price}`
       
        let p2=document.createElement("p");
        p2.innerText=el.special;

        let spanEl=document.createElement("span");
        spanEl.innerText=(el.quintity)

        let incress=document.createElement("button");
        incress.className="incress"
        incress.innerText="+"
        incress.addEventListener("click",()=>{
               el=(el.quintity)++
               localStorage.setItem("cart",JSON.stringify(cartdata));
               display(cartdata)
        })

        

        let decress=document.createElement("button");
        decress.className="incress"
        decress.innerText="-"
        decress.addEventListener("click",()=>{
          if(el.quintity>1){
               el=(el.quintity)--
               localStorage.setItem("cart",JSON.stringify(cartdata));
               display(cartdata)
          }
        })

        let button=document.createElement("button");
        button.className="remove"
        button.innerText="Remove"

        button.addEventListener("click",()=>{
           cartdata=cartdata.filter((e)=>{
            return e.id!==el.id
          })
          
          localStorage.setItem("cart",JSON.stringify(cartdata));
          display(cartdata)

        })

        insidediv.append(image,h3,p1,p2,incress,spanEl,decress,button);
        maincontainer.append(insidediv);
      })
      cartvalue.innerText=cartdata.length
     spanvalue.innerText=spanvalued(cartdata);
}
function spanvalued(data){
  let y=0
  for(let i=0;i<data.length;i++){
    y+=(data[i].quintity)*(data[i].price)
  }
  return y
}


function subtotal(){
      let x=0
      for(let i=0;i<cartdata.length;i++){
         x+=(cartdata[i].quintity)*(cartdata[i].price)
      }
      return x
     }


</script>